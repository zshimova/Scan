Установка зависимостей
npm install

Сборка проекта
npm run build

Запуск проекта локально
npm run start

<!-- Обратите внимание, что в API есть баги:
1) Нет фото и имени пользователя (у меня установлена заглушка)
2) не обновляются данные по использованным компаниям (UserActions)
3) количество документов в выборке (в форме поиска) имеет максимальное значение 1000, в реальности API срабатывает только если это значение не превышает 45, в некоторых случаях и того меньше. Возможность пагинации для постепенной загрузки документов отсутствует
4) в респонсе по статьям нет картинки с сайта статьи для предпросмотра, поэтому у меня установлена заглушка

<img width="1668" alt="image" src="https://github.com/albinadesign/SCAN_SkillFactory/assets/117900508/2b9a54a7-1ea5-4f45-b3c8-36ca7642e43e"> -->


Фронтенд-часть сервиса получает данные с бэкенда, то есть постоянно работает с API. Именно поэтому взаимодействие с API — ключевая часть кейса.
Другие важные детали проекта:

- Вы поработаете с авторизацией с помощью токенов. Чтобы её реализовать, необходимо разобраться, как происходит безопасная авторизация в реальных проектах.
  В ТЗ вас попросят сохранять токены в local storage. Выполнив задание, вы научитесь делать так, чтобы пользователь не отсылал по многу раз один и тот же запрос.
  
  После этого вы будете в состоянии оптимизировать работу любого проекта.
- Вы реализуете разный доступ к сайту для авторизованных и неавторизованных пользователей. Фича позволит защитить платную информацию внутри проекта от анонимов и недобросовестных клиентов.
- Вы сделаете обязательные поля и маскировку личной информации. Реализуете невозможность отправить данные, если одно из обязательных полей не заполнено.
  
  Если же кнопку можно будет нажать при любом количестве незаполненных полей, то это грозит проекту постоянными перегрузками и большим количеством ошибок.
- Напишете lazy loading для информации, полученной с сервера — тем самым сделаете пользовательский опыт комфортным. Ведь если клиент запросит много информации, а она будет приходить одним массивом, то пользователю придётся очень долго ждать.
- Поработаете с Redux и React Context. Это одни из самых популярных инструментов на рынке. В будущем вы будете взаимодействовать с ними каждый день.

Все эти умения помогут вам чувствовать себя уверенно на любом современном проекте и в профессии в целом.

Вас ждёт работа не над обычным учебным лендингом, а над полноценной B2B-платформой.


Техническое задание
Функциональные требования

Клиентская часть сервиса состоит из:

- главной страницы,
- формы авторизации,
- формы для ввода параметров запроса,
- страницы с выводом результатов запроса.

Макет:
https://www.figma.com/file/u3MOjzYnTnirz712GrLbFv/Макет-СКАН?type=design&node-id=0-1&mode=design&t=q8NkUHzXhcWOdIUW-0

Шапка сайта
В ней находятся:

- логотип,
- меню,
- панель управления учётной записью.

Страницы «Тарифы» и «FAQ» выходят за рамки данного ТЗ. Поэтому ссылки на них можно оставить пустыми или прописать фейковые URL-адреса.

Шапка сайта выглядит по-разному для авторизованного и неавторизованного пользователя.

Шапка сайта для неавторизованного пользователя:


1. Ссылку «Зарегистрироваться» можно оставить пустой или прописать фейковый URL.
2. Кнопка «Войти» ведёт на страницу авторизации.

Шапка сайта для авторизованного пользователя:


1. Вместо кнопок «Зарегистрироваться» и «Войти» появился аватар пользователя с именем и кнопкой «Выйти».
2. Кнопка «Выйти» сбрасывает авторизацию.
3. Слева от аватара должна быть панель с информацией о лимите по компаниям в аккаунте и количестве уже используемых компаний. Эта информация подгружается не сразу, для её получения нужно отправить отдельный запрос. Пока запрос грузится, нужно показывать лоадер. Пример этой панели с лоадером есть в макете.

Главная страница

Главная страница содержит описание сервиса и доступна всем пользователям без авторизации.

Обратите внимание на следующие пункты:

1. Кнопка «Запросить данные» ведёт на страницу ввода параметров поиска. Её должен видеть только зарегистрированный пользователь.

Карточки в разделе «Почему именно мы» должны переключаться по принципу карусели: клик на стрелке слева или справа переключает карточки в соответствующем направлении.

Вы можете добавить произвольное количество карточек (или продублировать уже имеющиеся), чтобы протестировать работу карусели.




В разделе «Наши тарифы» перечислены возможные тарифы. Кнопка «Подробнее» — заглушка, при клике на неё ничего не происходит.

Если пользователь авторизован, карточка с используемым им тарифом должна отличаться от остальных:

- появляется бейдж «Текущий тариф»;
- кнопка «Подробнее» меняется на «Перейти в личный кабинет» (она тоже не функциональна);
- карточка выделяется цветом, который соответствует тарифу.



Форма авторизации

Эта страница содержит форму с полями для ввода логина и пароля. При заполнении пароля вводимое значение должно маскироваться.

Подсказка: Для этого достаточно присвоить инпуту атрибут type="password".

При отсутствии одного из значений — логина или пароля — кнопка «Войти» неактивна, и при клике на неё ничего не происходит.




После ввода всех необходимых значений кнопка становится активной. При нажатии на неё нужно отправить запрос на POST account/login (подробности см. в юните «Описание API»).

При успешной авторизации в ответе на запрос придут:

- токен авторизации (accessToken),
- дата, до которой токен действителен (expire).

Эти данные необходимо сохранить в localStorage, чтобы пользователю не нужно было заново авторизоваться после каждого обновления страницы.


Остальные элементы формы не функциональны:

- вкладка «Зарегистрироваться»,
- ссылка «Восстановить пароль»,
- кнопки «Войти» через Google / Facebook / Яндекс.

Их нужно просто сверстать.

Форма для ввода параметров запроса

Данная страница содержит основу функционала сервиса: форму, в которой пользователь задаёт параметры поиска.

Эта страница доступна только авторизованным пользователям. Если неавторизованный пользователь пытается её открыть, нужно переадресовать его на главную страницу сервиса.

На странице должна быть форма поиска со следующими полями:

Название
Тип поля
Обязательное
ИНН
Текстовое


Необходима валидация на соответствие формату ИНН
✔️
Признак максимальной полноты
Чекбокс
✖️
Упоминания в бизнес-контексте
Чекбокс
✖️
Главная роль в публикации
Чекбокс
✖️
Тональность
Выпадающий список с выбором одного из вариантов:

	- позитивная,
	- негативная,
	- любая.
✔️
Публикации только с риск-факторами
Чекбокс
✖️
Включать технические новости рынков
Чекбокс
✖️
Включать анонсы и календари
Чекбокс
✖️
Включать сводки новостей
Чекбокс
✖️
Количество документов в выдаче
Число.


Возможные значения: от 1 до 1000.
✔️
Диапазон дат для поиска
Два поля с выбором даты:

	- дата начала поиска,
	- дата конца поиска.
✔️



Обязательные поля должны быть отмечены звёздочками. Если хотя бы одно из обязательных полей не заполнено, кнопка «Поиск» должна быть неактивна.
Если введённый ИНН не соответствует формату, нужно вывести ошибку. Кнопка «Поиск» в этом случае должна быть так же неактивна.

Подсказка: Статью с объяснением, как проверить валидность ИНН, вы найдёте в конце модуля, в разделе «Полезные ссылки».

Введённый диапазон (дата начала и конца поиска) необходимо также проверять на корректность:

- даты не должны быть в будущем времени;
- дата начала не может быть позже даты конца.


Если эти условия не выполняются, нужно показать сообщение об ошибке.

Если поисковый запрос введён корректно, по нажатии на кнопку «Поиск» выполняется запрос POST objectsearch/histograms и открывается страница с результатами запроса.

Вывод результатов поиска

Здесь мы выводим результаты ранее введённого запроса. Этот раздел необязательно делать физически отдельной страницей (присваивать свой URL-адрес). Можно отобразить его поверх формы поиска после отправки запроса.

Поиск состоит из трёх этапов:

1. Сначала мы делаем запрос POST objectsearch/histograms и получаем общую сводку по количеству публикаций и рискам.


1. После успешного выполнения запроса сводку необходимо отобразить вот так
2. Периодов может быть больше, чем помещается на экране. Поэтому необходимо реализовать карусель для горизонтального переключения между ними.
   
   На время, пока сводка подгружается, необходимо показать лоадер.
3. Затем, используя те же параметры поиска, отправляем запрос POST objectsearch, чтобы получить список публикаций. В ответе придёт список ID найденных документов.
4. После того как мы получили ID документов, остался последний шаг. Подгрузить их содержимое: заголовок, дату, источник, текст публикации и так далее. Для этого воспользуемся запросом POST documents.

Однако мы уже знаем, что найденных публикаций может быть много (лимит поиска — 1000 результатов). Было бы неправильно загружать всё и сразу: это может занять много времени, а мы не хотим задерживать пользователя.

Поэтому необходимо реализовать ленивую загрузку (lazy loading). Сначала нужно подгрузить только 10 первых результатов и добавить кнопку «Показать больше», по нажатии на которую будет подгружаться следующие 10 результатов. И так до тех пор, пока не будут загружены последние из найденных публикаций.

После этого кнопку «Показать больше» необходимо спрятать.




Так выглядят загруженные публикации


Карточка публикации


Карточка публикации отдельно

В шапке карточки выводим дату публикации и название источника. Название является также ссылкой на оригинал статьи.

Далее идёт заголовок публикации, под ним может быть несколько тегов. Разберём их подробнее.

Каждый объект публикации имеет свойство attributes:

```
"attributes": {
          "isTechNews": false,
          "isAnnouncement": false,
          "isDigest": false,
          "influence": 352.0,
          "wordCount": 99,
          "coverage": {
            "value": 1402211.0,
            "state": "hasData"
          }
        }
```
В зависимости от значений свойств isTechNews, isAnnouncement и isDigest карточка публикации может иметь 3 вида тегов:

- технические новости, если isTechNews равно true;
- анонсы и события, если isAnnouncement равно true;
- сводки новостей, если isDigest равно true.
- 

Далее необходимо отобразить содержимое документа (с картинками, если они есть).

Внизу карточки находятся кнопка «Читать в источнике», которая открывает в новой вкладке оригинальную статью, и количество слов. Количество слов также можно считать из объекта attributes (свойство wordCount).

Требования к вёрстке

1. Вёрстка должна соответствовать макету. Добиваться Pixel Perfect соответствия не обязательно, но основные моменты должны быть соблюдены:
	- наличие всех элементов интерфейса,
	- цветовая гамма,
	- шрифты,
	- размеры,
	- отступы.
2. Приложение должно корректно отображаться и работать на мобильных устройствах. Дизайн для мобильной версии вы найдёте в макете.
3. Соблюдайте семантическую вёрстку. На каждой странице должны присутствовать разделы <header>, <main> и <footer>, а также заголовок <h1>. Кнопки должны быть реализованы элементом <button>, выпадающий список — элементом <select> и так далее.
4. Если какой-либо элемент доступен для взаимодействия (ссылка, кнопка), при наведении курсора должен появляться cursor: pointer.
   
   Внешний вид самого элемента тоже должен меняться при наведении курсора. Пример: нижнее подчёркивание текста у ссылки, другой цвет фона у кнопки.
5. Используйте любой вариант подключения стилей на ваше усмотрение:
	- общий файл стилей проекта,
	- CSS-модули,
	- специальные React-библиотеки для стилизации компонентов (например, Styled Components).
6. Использовать селекторы по тегу и ID для задания стилей не рекомендуется, старайтесь отдавать предпочтение классам.
7. Лучше всего экспортировать картинки из Figma в формате SVG, чтобы качество изображений было стабильным на разных разрешениях.

Требования к коду

1. Проект должен был выполнен на React.
2. Интерфейс должен быть поделён на компоненты. Перед началом работы обдумайте, какие компоненты вы будете использовать. Деление должно быть логичным и оправданным.
3. Проект будет работать со множеством данных. Рекомендуем использовать более продвинутый инструмент хранения и изменения данных, чем обычный state. Например, useReducer, React Context или Redux.
4. При написании кода старайтесь следовать принципам:
	- KISS (Keep It Short and Simple — не усложняй),
	- DRY (Don’t Repeat Yourself — не повторяйся).
5. Вы не ограничены в использовании любых инструментов и дополнительных библиотек (например, для реализации карусели). Но старайтесь следить за тем, чтобы их применение было оправдано и не усложняло код без необходимости.

Прочие требования

1. Пишите код аккуратно, с соблюдением форматирования и отступов.
2. Осмысленно называйте компоненты, переменные и функции.
3. Используйте современный синтаксис: функциональные React-компоненты и хуки, стрелочные функции, декомпозицию и так далее.
4. При размещении проекта на GitHub не забудьте добавить папку node_modules в файл .gitignore, чтобы она не попала в ваш репозиторий. О том, как настроить .gitignore и почему папки node_modules не должно быть в репозитории, читайте в статье «Что такое файл .gitignore и как его настроить? — CloudSavvy ИТ» на Cpab.

Описание API

Полная документация API находится по ссылке. Обратите внимание, что запросов в документации много, и большинство из них не пригодятся для выполнения работы. Те запросы, которые нужно использовать, будут перечислены в следующем разделе «Запросы».

Базовый URL для запросов — gateway.scan-interfax.ru.

Таким образом, если нужно сделать запрос /api/v1/account/login, полный адрес запроса будет выглядеть так — https://gateway.scan-interfax.ru/api/v1/account/login.

Для авторизации можно использовать любой из доступных аккаунтов.
Логин
Пароль
sf_student1
4i2385j
sf_student10
KHKfTXb
sf_student3
6z9ZFRs
sf_student2
lV8xjCH
sf_student4
Br1+tbG
sf_student5
LuwAwJf
sf_student6
eczpWCB
sf_student7
P6VcKNf
sf_student8
5QB0KM/
sf_student9
DTdEwAn
Запросы

Все запросы работают с форматом JSON, поэтому не забывайте указывать заголовки Content-type: application/json и Accept: application/json.

Запросы, требующие авторизации, отмечены в таблице звёздочкой.

POST /api/v1/account/login
Запрос для авторизации пользователя.

В ответе на этот запрос в поле accessToken вы получите токен, а также дату окончания действия токена (поле expire).

Токен будет необходим для отправки запросов с авторизацией. В этих запросах нужно дополнительно передавать заголовок Authorization: Authorization: Bearer <token>.

Когда срок действия токена истечёт, авторизацию нужно будет пройти заново.
GET /api/v1/account/info (*)
Запрос для получения информации об аккаунте пользователя.
POST /api/v1/objectsearch/histograms (*)
Запрос для получения сводки по количеству публикаций на конкретные даты.
POST /api/v1/objectsearch (*)
Поиск публикаций по запросу. Возвращает только список ID публикаций.
POST /api/v1/documents (*)
Запрос для получения текстов и параметров публикаций по их ID.

Далее мы подробно разберём каждый запрос.

Описания некоторых входных/выходных данных ссылаются на сущности: «Объект типа EventFiltersInfo». Подробные описания можно найти в следующем разделе «Сущности».

Обязательные поля отмечены в таблице звёздочками.

POST /api/v1/account/login

Входные данные:

Поле
Тип
login (*)
string
password (*)
string
Выходные данные:

Поле
Тип
Описание
accessToken
string
Токен авторизации.
expire
date-time
Дата и время окончания действия токена.
Пример запроса:

```
{
  "login": "myDiploma",
  "password": "willSucceed4Sure"
}
```

Пример ответа:

GET /api/v1/account/info

Входные данные — нет.

Выходные данные:



Поле
Тип
Описание
eventFiltersInfo
Объект типа EventFiltersInfo.
Информация о лимитах онлайн-мониторинга для аккаунта.
Пример ответа:

```
{
  "eventFiltersInfo": {
    "usedCompanyCount": 34,
    "companyLimit": 1000
  }
}
```


POST /api/v1/objectsearch/histograms

Входные данные:

Поле
Тип
Описание
intervalType (*)
string
Шаг статистики. Одно значение из списка:
		- day — день;
		- week — неделя;
		- month — месяц;
		- quarter — квартал;
		- year — год.

Для целей данного проекта необходимо отправлять значение month.
histogramTypes (*)
Массив элементов типа string.
Типы статистики. Одно или несколько значений.

Допустимые значения:

		- totalDocuments — всего публикаций;
		- riskFactors — публикаций, в которых целевые объекты являются участниками риск-факторов.

Для целей данного проекта необходимо отправлять оба значения.
issueDateInterval (*)
Объект типа Search.DateInterval.
Период дат поиска.
searchContext (*)
Объект типа Search.SearchContext.
Контекст поиска.
similarMode (*)
string
Фильтр похожих публикаций. Одно значение из списка:
		- none — без фильтрации, в выдачу включаются все публикации;
		- duplicates — фильтр по дубликатам, в выдачу включается по одной публикации из каждого кластера дублей.

Выберите любое из значений на ваше усмотрение.
limit (*)
integer
Количество возвращаемых публикаций. Значение от 1 до 1000.
sortType (*)
string
Тип сортировки. Одно значение из списка:
		- issueDate — дата публикации;
		- sourceInfluence — вес источника.

Выберите любое из значений на ваше усмотрение.
sortDirectionType (*)
string
Направление сортировки. Одно значение из списка:
		- desc – по убыванию;
		- asc – по возрастанию.

Выберите любое из значений на ваше усмотрение.
attributeFilters
Объект типа Filter.Attributes
Фильтр по атрибутам публикаций.
searchArea
В рамках данного проекта не используется.

Выходные данные:

Поле
Тип
Описание
data
Массив объектов типа Analytics.HistogramData.
Статистика публикаций по времени.
Пример запроса:

```
{
  "issueDateInterval": {
    "startDate": "2019-01-01T00:00:00+03:00",
    "endDate": "2022-08-31T23:59:59+03:00"
  },
  "searchContext": {
    "targetSearchEntitiesContext": {
      "targetSearchEntities": [
        {
          "type": "company",
          "sparkId": null,
          "entityId": null,
          "inn": 7710137066,
          "maxFullness": true,
          "inBusinessNews": null
        }
      ],
      "onlyMainRole": true,
      "tonality": "any",
      "onlyWithRiskFactors": false,
      "riskFactors": {
        "and": [],
        "or": [],
        "not": []
      },
      "themes": {
        "and": [],
        "or": [],
        "not": []
      }
    },
    "themesFilter": {
      "and": [],
      "or": [],
      "not": []
    }
  },
  "searchArea": {
    "includedSources": [],
    "excludedSources": [],
    "includedSourceGroups": [],
    "excludedSourceGroups": []
  },
  "attributeFilters": {
    "excludeTechNews": true,
    "excludeAnnouncements": true,
    "excludeDigests": true
  },
  "similarMode": "duplicates",
  "limit": 1000,
  "sortType": "sourceInfluence",
  "sortDirectionType": "desc",
  "intervalType": "month",
  "histogramTypes": [
    "totalDocuments",
    "riskFactors"
  ]
}

```

Пример ответа:



```
{
  "data": [{
    "data": [{
      "date": "2020-11-01T03:00:00+03:00",
      "value": 8
    }, {
      "date": "2020-06-01T03:00:00+03:00",
      "value": 6
    }],
    "histogramType": "totalDocuments"
  }, {
    "data": [{
      "date": "2020-11-01T03:00:00+03:00",
      "value": 0
    }, {
      "date": "2020-06-01T03:00:00+03:00",
      "value": 1
    }],
    "histogramType": "riskFactors"
  }]
}

```


POST /api/v1/objectsearch

Входные данные — те же, что и в запросе POST /api/v1/objectsearch/histograms.

Выходные данные:

Поле
Тип
Описание
items
Массив объектов типа SearchResultItem.
Список найденных публикаций.
mappings
В рамках данного проекта не используется.
Пример запроса — см. раздел POST /api/v1/objectsearch/histograms.

Пример ответа:

```
{
  "items": [{
    "encodedId": "1:0JPQqdGM0JNWCdCzf2Jt0LHQotGV0ZUh0ZbRlBXCt0Je0JHQruKAnDcUXkZQ0YvQscKnehLRnNC1KtGK0Ll9BWLigLo/HXXCrhw=",
    "influence": 700.0,
    "similarCount": 3
  }, {
    "encodedId": "1:fmYoHEjQrRbQhz3RiUtm4oCh0JLRmtCLIyU10IzigqzRgGjQmCoR0JFg0YRhwrVzN9CxDUM50KcpdTbRiNCLwpjRkuKAphXRkVxh0JU50K5uWdC50L7RjX0C0KwQRsKp",
    "influence": 607.0,
    "similarCount": 8
  }],
  "mappings": [{
    "inn": "7710137066",
    "entityIds": [534868]
  }]
}

```


POST /api/v1/documents

Входные данные:

Поле
Тип
Описание
ids (*)
Массив элементов типа string.
Массив идентификаторов публикаций.

Максимальное допустимое количество элементов в списке = 100.
Выходные данные:



Массив элементов со следующими полями:

Поле
Тип
Описание
ok
Объект типа ScanDoc.
Объект публикации. Возвращается в случае успешного получения публикации по ID.
fail
Объект с полями errorCode и errorMessage.
Информация об ошибке. Возвращается, если по определённому ID не удалось получить публикацию.
Пример запроса:

```
{
  "ids": [ "1:0JPQqdGM0JNWCdCzf2Jt0LHQotGV0ZUh0ZbRlBXCt0Je0JHQruKAnDcUXkZQ0YvQscKnehLRnNC1KtGK0Ll9BWLigLo/HXXCrhw="
  ]
}

```

Пример ответа:

```
[{
  "ok": {
    "schemaVersion": "1.2",
    "id": "1:0JPQqdGM0JNWCdCzf2Jt0LHQotGV0ZUh0ZbRlBXCt0Je0JHQruKAnDcUXkZQ0YvQscKnehLRnNC1KtGK0Ll9BWLigLo/HXXCrhw=",
    "version": 1,
    "issueDate": "2019-11-06T09:44:00+03:00",
    "url": "https://www.vesti.ru/doc.html?id=3206990",
    "source": {
      "id": 3264,
      "groupId": 8388638,
      "name": "Вести.Ru (vesti.ru)",
      "categoryId": 7,
      "levelId": 1
    },
    "dedupClusterId": "2596EE21",
    "title": {
      "text": "Медведь напал на охотника в Приморье",
      "markup": "<?xml version=\"1.0\" encoding=\"utf-8\"?><scandoc><sentence>Медведь напал на охотника в <entity type=\"location\" local-id=\"6\">Приморье</entity>\r\n<data>\r\n<div>    <div><p></sentence></scandoc>"
    },
    "content": {
      "markup": "<?xml version=\"1.0\" encoding=\"utf-8\"?><scandoc><sentence><entity type=\"theme\" local-id=\"1\"><entity type=\"theme\" local-id=\"5\">Медведь напал на жителя <entity type=\"location\" local-id=\"6\">Приморья</entity>, пострадавший госпитализирован, - сообщает \"Вести: Приморье\" со ссылкой на <entity type=\"company\" local-id=\"0\">\"Интерфакс-Дальний Восток\"</entity>. </entity></entity></sentence><sentence>Сотрудники полиции проводят проверку по факту инцидента, связанного с нападением медведя на жителя <entity type=\"location\" local-id=\"7\">Уссурийска </entity>в лесу, в окрестностях <entity type=\"location\" local-id=\"8\">села Яконовка</entity>. </sentence><sentence><entity type=\"theme\" local-id=\"2\">Пострадавшего госпитализировали в реанимационное отделение городской больницы.</p>\r\n\r\n<p></entity></sentence><sentence>По данным медиков, он прооперирован, сейчас его жизни ничто не угрожает. </sentence><sentence><entity type=\"theme\" local-id=\"4\">Полицейские установили, что у мужчины есть разрешение на охоту, оружие должным образом зарегистрировано. </entity></sentence><sentence>Обстоятельства случившегося выясняются.</p>\r\n\r\n<p></sentence><sentence><entity type=\"theme\" local-id=\"3\">Напомним, ранее сообщалось, что в минувшие выходные в окрестностях <entity type=\"location\" local-id=\"7\">Уссурийска</entity>, в районе <entity type=\"location\" local-id=\"9\">села Кроуновка </entity>на охотника напал тигр, пострадавший госпитализирован.</p>\r\n</div>\r\n                                                    <div></entity></sentence><sentence>Текст:\r\n                                            ГТРК \"Владивосток\"\r\n                                        </div>\r\n                \r\n                \r\n                <div>\r\n\r\n                    \r\n                    \r\n                    \r\n                </div>\r\n            </div>\r\n</data>\r\n\r\n</sentence><br><img src=\"https://storage.scan-interfax.ru/images/1%3A0JPQqdGM0JNWCdCzf2Jt0LHQotGV0ZUh0ZbRlBXCt0Je0JHQruKAnDcUXkZQ0YvQscKn0KjQlsKu0K%2FSkdGXfOKAsF3QkjrRnCRmGCFFBybQoNGL0ZMhEFkC4oCYaNC9a9GO0KFYwqwOeNGO0JdUDGzihKJXTNC%2B0ZzRinE%3D\"></scandoc>"
    },
    "entities": {
      "companies": [{
        "suggestedCompanies": [{
          "sparkId": 5752,
          "inn": "7710137066",
          "ogrn": "1037739169335",
          "searchPrecision": "maxPrecision"
        }],
        "resolveInfo": {
          "resolveApproaches": ["activeVerified"]
        },
        "tags": ["inBusinessNews"],
        "isSpeechAuthor": false,
        "localId": 0,
        "name": "Интерфакс Восток",
        "entityId": 132248549,
        "isMainRole": true
      }],
      "people": [],
      "themes": [{
        "localId": 1,
        "name": "Медицина и здоровье",
        "entityId": 10873126,
        "tonality": "negative"
      }, {
        "localId": 2,
        "name": "Медицина и здоровье",
        "entityId": 10873126,
        "tonality": "negative"
      }, {
        "localId": 3,
        "name": "Медицина и здоровье",
        "entityId": 10873126,
        "tonality": "negative"
      }, {
        "localId": 4,
        "name": "Следствие и расследования",
        "entityId": 8543420,
        "tonality": "neutral"
      }, {
        "localId": 5,
        "name": "Социальные вопросы: контекстный негатив",
        "entityId": 180643234,
        "tonality": "negative",
        "participant": {
          "localId": 0,
          "type": "company"
        }
      }],
      "locations": [{
        "code": {
          "countryCode": "RUS",
          "regionCode": "05"
        },
        "localId": 6,
        "name": "Приморье",
        "isMainRole": true
      }, {
        "code": {
          "countryCode": "RUS",
          "regionCode": "05"
        },
        "localId": 7,
        "name": "Уссурийск",
        "isMainRole": false
      }, {
        "code": {
          "countryCode": "RUS",
          "regionCode": "05"
        },
        "localId": 8,
        "name": "село Яконовка",
        "isMainRole": false
      }, {
        "code": {
          "countryCode": "RUS",
          "regionCode": "05"
        },
        "localId": 9,
        "name": "село Кроуновка",
        "isMainRole": false
      }]
    },
    "attributes": {
      "isTechNews": false,
      "isAnnouncement": false,
      "isDigest": false,
      "influence": 352.0,
      "wordCount": 99,
      "coverage": {
        "value": 1402211.0,
        "state": "hasData"
      }
    },
    "language": "russian"
  }
}

```


Сущности



EventFiltersInfo

Информация о лимитах аккаунта:

Поле
Тип
Описание
usedCompanyCount
integer
Количество компаний, по которым производится онлайн-мониторинг в данном аккаунте.
companyLimit
integer
Максимальное количество компаний, которое доступно поставить на онлайн-мониторинг, согласно условиям тарифа для аккаунта.

Search.DateInterval

Период дат для поискового запроса:

Поле
Тип
Описание
startDate
string
Дата начала периода запроса. Формат yyyy-mm-dd. Обязательное.
endDate
string
Дата окончания периода запроса. Формат yyyy-mm-dd. Обязательное.

Search.SearchContext

Логическое выражение запроса: список одного или нескольких целевых объектов поиска и опциональных уточняющих условий.

В рамках проекта объект поиска всегда будет только один.

Поле
Тип
Описание
targetSearchEntitiesContext
Объект типа Search.TargetSearchEntitiesContext
Целевые компании/персоны поиска и их параметры. Обязательное.
searchEntitiesFilter
Объект типа Search.Filter<Search.Entities.SearchEntity>
Уточняющий запрос по компаниям/персонам. Необязательное.
locationsFilter
Объект типа Search.Filter<Search.Location>
Уточняющий запрос по странам/регионам. Необязательное.
themesFilter
Объект типа Search.Filter<Search.Theme>
Уточняющий запрос по темам. Необязательное.

Search.TargetSearchEntitiesContext

Целевые компании/персоны поиска и их параметры:

Поле
Тип
Описание
targetSearchEntities (*)
Массив объектов типа Search.Entities.TargetSearchEntity.
Целевые компании и/или персоны
onlyMainRole (*)
boolean
Главная роль в отношении целевых объектов:
		- true — выдаются только публикации, в которых целевой объект упоминается в главной роли;
		- false — наличие или отсутствие главной роли не проверяется.
onlyWithRiskFactors (*)
boolean
Наличие риск-факторов в отношении целевых объектов:
		- true — выдаются только публикации, в которых целевой объект упоминается в контексте какого-либо риск-фактора;
		- false — наличие или отсутствие риск-факторов не проверяется.
tonality (*)
string
Тональность упоминаний в отношении целевых объектов. Одно значение из списка:
		- any — не проверяется;
		- negative — негативная;
		- positive — позитивная.
riskFactors
В рамках данного проекта не используется.
themes
В рамках данного проекта не используется.

Search.Entities.TargetSearchEntity

Целевой объект поиска — компания или персона. При поиске компании допустимо задавать только одно из перечисленных полей: sparkId (код СПАРК), inn (ИНН), entityId (идентификатор компании по каталогу СКАН).

В рамках данного проекта будет использоваться только поиск компании по ИНН, остальные поля должны иметь значение null.

Поле
Тип
Описание
type
string
Тип объекта. Одно значение из списка:
		- company — компания;
		- suggestedPersons — персона.

В рамках данного проекта нужно использовать значение company.
inBusinessNews
boolean
Фильтр по наличию или отсутствию бизнес-контекста вокруг объекта:
		- true — выдаются только новости, где объект упоминается в бизнес-контексте (деловые темы);
		- false — выдаются только новости, где объект упоминается не в бизнес-контексте (например, новости культуры, спорта, упоминание банка для указания его реквизитов);
		- null — фильтр не применяется.
sparkId
integer
Код СПАРК юридического лица.
entityId
integer
Идентификатор по каталогу объектов СКАН.
inn
string
ИНН юридического лица.
maxFullness
boolean
Подход к поиску — признак максимальной полноты. Применяется только при поиске по sparkId или inn.

Одно значение из списка:

		- false — выдача только результатов с высокой точностью (поиск с учётом контекста);
		- true — выдача результатов с высокой полнотой (объединяются результаты поиска с учётом контекста и поиска по похожим названиям).

Analytics.HistogramData

Сводная статистика по периодам времени:

Поле
Тип
Описание
data
Массив объектов типа Analytics.IntervalPoint.
Значения статистики по периодам времени.
histogramType
string
Тип статистики. Возможные значения:
		- totalDocuments — всего публикаций;
		- riskFactors — публикации, в которых целевые объекты являются участниками риск-факторов.

Analytics.IntervalPoint

Значения статистики по периодам времени:

Поле
Тип
Описание
date
date-time
Дата и время начала периода.
value
integer
Количество публикаций.

SearchResultItem

Элемент списка публикаций по результатам поиска:

Поле
Тип
Описание
encodedId
string
Идентификатор публикации.
influence
number
Вес источника публикации.
similarCount
integer
Количество похожих публикаций. Актуально только при поиске с группировкой выдачи по кластерам дублей.

ScanDoc

Публикация в формате ScanDoc:

Поле
Тип
Описание
schemaVersion
string
Версия формата публикации.
id
string
ID публикации.
version
integer
Версия данных внутри документа.
issueDate
date-time
Дата и время публикации.
url
string
Ссылка на страницу оригинала публикации.
author
Объект типа Document.Author.
Автор публикации.
source
Объект типа Document.Source.
Источник публикации.
dedupClusterId
string
ID кластера дубликатов.
title
Объект типа Document.Title.
Заголовок публикации.
content
Объект типа Document.Content.
Содержимое документа.
entities
В рамках данного проекта не используется.
attributes
Объект типа Document.Attributes.
Дополнительные атрибуты публикации.
language
string
Язык публикации. Возможные значения:
		- Russian — русский;
		- other — другие языки;
		- unknown — язык не указан.

Document.Author

Автор публикации:

Поле
Тип
Описание
name
string
Имя автора.

Document.Source

Дополнительные атрибуты источника публикации:

Поле
Тип
Описание
id
integer
ID источника.
name
string
Наименование источника.
categoryId
integer
ID категории источника.
levelId
integer
ID уровня источника.
groupId
integer
ID группы источника.

Document.Title

Заголовок публикации:

Поле
Тип
Описание
text
string
Текст заголовка без разметки.
markup
string
Текст заголовка с лингвистической XML-разметкой.

Document.Content

Содержимое документа:

Поле
Тип
Описание
markup
string
Текст публикации с лингвистической XML-разметкой.

Document.Attributes

Дополнительные атрибуты публикации:

Поле
Тип
Описание
isTechNews
boolean
Признак того, что публикация является технической новостью.
isAnnouncement
boolean
Признак того, что публикация является анонсом или календарём событий.
isDigest
boolean
Признак того, что публикация является дайджестом, то есть сводкой новостей.
wordCount
integer
Количество слов текста публикации.
influence
В рамках данного проекта не используется.
coverage
В рамках данного проекта не используется.
Начало работы

Этапы

Рекомендуем начать с визуальной части и соблюдать следующую последовательность этапов:

1. Сверстать необходимые части интерфейса. При необходимости вместо запрашиваемых данных можно временно использовать значения-заглушки.
2. Адаптировать свёрстанные страницы под мобильную версию.
3. Настроить роутинг и разделение прав: все страницы, кроме главной, должны быть доступны только зарегистрированному пользователю.
4. Подключить бэкенд-часть к фронтенду, настроить отправку запросов.
5. Отладить детали для гладкого UX (пользовательского опыта): добавить лоадеры, валидацию форм и оповещения.
6. Как следует протестировать работу приложения, чтобы отловить случайные ошибки и баги.

Ещё раз кратко повторим основной сценарий работы приложения:

1. Открываем приложение (без авторизации) и попадаем на главную страницу.
2. Используя форму авторизации, заходим в аккаунт (POST account/login).
3. После успешной авторизации в фоновом режиме запрашиваются данные об аккаунте пользователя и выводятся в шапку страницы (GET account/info).
4. Переходим на страницу поиска и задаём параметры. Если параметры поиска введены корректно, получаем сводную информацию по количеству публикаций и рискам (POST objectsearch/histograms).
5. Параллельно, используя те же параметры, выполняем поиск непосредственно самих публикаций (POST objectsearch).
6. После успешного завершения запроса POST objectsearch получаем список ID публикаций и запрашиваем содержимое первых 10 публикаций (POST documents).
7. Если найденных публикаций больше 10, нажимаем на кнопку «Показать больше» и подгружаем следующие 10 публикаций.

Полезные ссылки

Ниже вы найдёте список статей и материалов, которые могут быть полезны при выполнении проекта:

1. Инструкция по валидации ИНН с примером кода на Javascript.
2. Подборка готовых React-компонентов, которые могут пригодиться при разработке.
3. Статья «Философия React» (объяснение компонентного подхода).
4. https://www.youtube.com/watch?v=fN25fMQZ2v0. Объяснение серверной части можно пропустить.
5. https://www.youtube.com/watch?v=0auS9DNTmzE&list=PLiZoB8JBsdznY1XwBcBhHL9L7S_shPGVE с подробным объяснением, как реализовать маршрутизацию на React Router v6.
6. Видео «Архитектура проекта React».
7. Статья «React: лучшие практики».
8. https://www.youtube.com/watch?v=-pJN9faoa8E. Будет полезно, если вы захотите добавить ссылку на проект в портфолио или показать его другим людям.


